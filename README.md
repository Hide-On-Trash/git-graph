# git-graph

[![Build Status](https://travis-ci.com/mlange-42/git-graph.svg?branch=master)](https://travis-ci.com/mlange-42/yarner)

A command line tool to visualize Git history graphs in a comprehensible way, following different branching models.

The image below shows an example using the [GitFlow branching model](https://nvie.com/posts/a-successful-git-branching-model/) for a comparison between graphs generated by git-graph (far left) versus other tools and Git clients. 

> GitFlow was chosen for its complexity, while any other branching model is supported, including user-defined ones.

![Graph comparison](https://user-images.githubusercontent.com/44003176/103142438-4e5b1c80-4703-11eb-8b23-9829eecdc54c.jpg)

Decide for yourself which graph is the most comprehensible. :sunglasses:

**Content**

* [Features](#features)
* [Installation](#installation)
* [Usage](#usage)
* [Custom branching models](#custom-branching-models)
* [Limitations](#limitations)
* [Missing features / TODOs](#missing-features--todos)

## Features

* View structured graphs directly in the terminal
* Common branching models included
* User-defined branching models and coloring
* Automatic detection of color support (e.g. terminal vs. piped to file)
* Different styles, including ASCII-only (i.e. no "special characters")
* Graphical output as SVG vector graphics
* Fast and memory-efficient

## Installation

**Pre-compiled binaries**

1. Download the [latest binaries](https://github.com/mlange-42/git-graph/releases) for your platform
2. Unzip somewhere
3. *Optional:* add directory `git-graph` to your `PATH` environmental variable

**Using `cargo`**

In case you have Rust installed and are using `cargo`, you can install with

```
cargo install --git https://github.com/mlange-42/git-graph
```

## Usage

For basic usage, run the following command inside a Git repository's folder:

```
git-graph
```

> Note: git-graph needs to be on the PATH, or you need use the full path to git-graph:
> 
> ```
> C:/path/to/git-graph/git-graph
> ```

**Branching models**

Run git-graph with a specific model, e.g. `git-flow`:

```
git-graph --model git-flow
```

Alternatively, set the model for the current repository permanently:

```
git-graph model git-flow
```

**SVG output**

To create an SVG image of a graph, use option `--svg` and pipe the output to a file:

```
git-graph --svg > graph.svg
```

**Get help**

For the full CLI help, use:

```
git-graph -h
```

## Custom branching models

Branching models are configured using the files in `APP_DATA/git-graph/models`. 

* Windows: `C:\Users\<user>\AppData\Roaming\git-graph`
* Linux: `~/.config/git-graph`
* OSX: `~/Library/Application Support/git-graph`

Create your own custom branching models by copying, renaming and editing one of the models provided there. The file name (without extension) can then be used in parameter `--model`, or via sub-command `model`. 

E.g., to use a branching model defined in `my-model.toml`, use:

```
git-graph --model my-model
```

**Colors**

**Terminal colors** support the 8 system color names `black`, `red`, `green`, `yellow`, `blue`, `magenta`, `cyan` and `white`, as well as each of them prefixed with `bright_` (e.g. `bright_blue`).

Further, indices of the 256-color palette are supported. For a full list, see [here](https://jonasjacek.github.io/colors/). Indices must be quoted as strings (e.g. `'16'`)

**SVG colors** support all named web colors (full list [here](https://htmlcolorcodes.com/color-names/)), as well as RGB colors in hex notation, like `#ffffff`.

## Limitations

* Summaries of merge commits (i.e. 1st line of message) should not be modified! git-graph needs them to categorize merged branches.
* Supports only the primary remote repository `origin`.
* Does currently not support "octopus merges" (i.e. no more than 2 parents)
* On Windows PowerShell, piping to file output does not work properly (changes encoding), so you may want to use the default Windows console instead

## Missing features / TODOs

* Custom formatting of commit information as with `git log --format=...`
* Commit information in SVG output
* More pre-defined branching models
* Better branch sorting into visual columns
* Support "octopus merges"
* Support multiple remotes
* Documentation of algorithms
